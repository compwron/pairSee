#!/usr/bin/env ruby

require_relative "../lib/pair_see"
require 'trollop'

opts = Trollop::options do
  opt :root, "Folder in which .git folder is",  :default => "."  
  opt :config, "location of config file, example: ../../config/config.yml", :default => "#{__FILE__}/../../config/config.yml"
  opt :after, "Date since which you want to get commits, in yyyy-mm-dd format", :default => "0-1-1"
  opt :extras, "See all commits without the name of any dev in them", :default => false
  opt :latest, "See dates of most recent commits by pairs", :default => false
end

pair_see = PairSee.new(opts[:root], opts[:config], opts[:after])

if opts[:extras]
	puts pair_see.commits_not_by_known_pair.join("\n")
elsif opts[:latest]
	puts pair_see.all_most_recent_commits.join("\n")
else
	puts pair_see.all_commits.join("\n")
end
